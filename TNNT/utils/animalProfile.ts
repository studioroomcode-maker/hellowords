/**
 * ë™ë¬¼ í”„ë¡œí•„ ìƒì„±ê¸°
 * ì„ ìˆ˜ì˜ í†µê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¬ë¯¸ìˆëŠ” ë™ë¬¼ ë¹„ìœ  ì´í‰ì„ ìƒì„±
 */

interface AnimalProfileInput {
  winRate: number;          // 0~1
  games: number;
  wins: number;
  losses: number;
  draws: number;
  avgScoreFor: number;
  avgScoreAgainst: number;
  scoreDiff: number;
  longestWinStreak: number;
  longestLossStreak: number;
  recentForm: ('W' | 'L' | 'D')[];
  // ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸ (optional)
  bestPartnerName?: string;
  bestPartnerWinRate?: number;
  nemesisName?: string;
  nemesisWinRate?: number;
  attendanceDays?: number;
  mvpCount?: number;
}

interface AnimalProfile {
  emoji: string;
  animal: string;
  title: string;
  description: string;
}

// ë™ë¬¼ ìœ í˜• ì •ì˜
interface AnimalType {
  emoji: string;
  animal: string;
  titles: string[];
  descriptions: string[];
}

// â”€â”€ ê³µê²©í˜• ë™ë¬¼ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const ATTACKERS: AnimalType[] = [
  {
    emoji: 'ğŸ¦',
    animal: 'ì‚¬ì',
    titles: ['ì½”íŠ¸ì˜ ì™•', 'ì‚¬ìì˜ ì‹¬ì¥', 'ë°±ìˆ˜ì˜ ì™•'],
    descriptions: [
      'ìƒëŒ€ë¥¼ ì••ë„í•˜ëŠ” ê³µê²©ë ¥ìœ¼ë¡œ ì½”íŠ¸ë¥¼ ì§€ë°°í•©ë‹ˆë‹¤. ë¼ì¼“ì„ ë“¤ë©´ ì‚¬ëƒ¥ì´ ì‹œì‘ë©ë‹ˆë‹¤.',
      'ê°•ë ¬í•œ í¬íš¨ì™€ í•¨ê»˜ ì½”íŠ¸ë¥¼ ì ë ¹í•˜ëŠ” ë‹¹ì‹ , ìƒëŒ€ì—ê²Œ ë‹¹ì‹ ì€ ê³§ ìœ„í˜‘ì…ë‹ˆë‹¤.',
      'ì‚¬ë°”ë‚˜ì˜ ì™•ì²˜ëŸ¼ ì½”íŠ¸ ìœ„ì—ì„œëŠ” ì–‘ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ìŠ¹ë¦¬ì— ëŒ€í•œ ë³¸ëŠ¥ì´ ë‚¨ë‹¤ë¦…ë‹ˆë‹¤.',
    ],
  },
  {
    emoji: 'ğŸ¦…',
    animal: 'ë…ìˆ˜ë¦¬',
    titles: ['í•˜ëŠ˜ì˜ ì§€ë°°ì', 'ë§¤ì˜ ëˆˆì„ ê°€ì§„ ì', 'ì½”íŠ¸ì˜ ë§¹ê¸ˆë¥˜'],
    descriptions: [
      'ë†’ì€ ê³³ì—ì„œ ë¹ˆí‹ˆì„ ë…¸ë¦¬ë‹¤ ìˆœì‹ê°„ì— í¬ì¸íŠ¸ë¥¼ ë‚šì•„ì±•ë‹ˆë‹¤. ì‹¤ìˆ˜ëŠ” í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.',
      'ë…ìˆ˜ë¦¬ì²˜ëŸ¼ ì˜ˆë¦¬í•œ ì‹œì„ ìœ¼ë¡œ ìƒëŒ€ì˜ ì•½ì ì„ ì •í™•íˆ ê¿°ëš«ëŠ” í”Œë ˆì´ê°€ ì¼í’ˆì…ë‹ˆë‹¤.',
      'í•˜ëŠ˜ì—ì„œ ê¸‰ê°•í•˜í•˜ë“¯ ê²°ì •ì  í•œ ë°©ì´ ìˆëŠ” ì„ ìˆ˜, ê·¸ê²ƒì´ ë‹¹ì‹ ì…ë‹ˆë‹¤.',
    ],
  },
  {
    emoji: 'ğŸ†',
    animal: 'ì¹˜íƒ€',
    titles: ['í­ë°œì  ìŠ¤í”„ë¦°í„°', 'ë²ˆê°œ ê°™ì€ ë°œ', 'ì†ë„ì˜ í™”ì‹ '],
    descriptions: [
      'ì¹˜íƒ€ì²˜ëŸ¼ ìˆœê°„ ê°€ì†ìœ¼ë¡œ ìƒëŒ€ê°€ ë°˜ì‘í•˜ê¸°ë„ ì „ì— í¬ì¸íŠ¸ë¥¼ ë”°ëƒ…ë‹ˆë‹¤.',
      'ì½”íŠ¸ ìœ„ ê°€ì¥ ë¹ ë¥¸ ë‹¤ë¦¬! ì–´ë–¤ ê³µë„ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ì¹˜íƒ€í˜• í”Œë ˆì´ì–´ì…ë‹ˆë‹¤.',
      '0.5ì´ˆì˜ íŒë‹¨ìœ¼ë¡œ ìŠ¹ë¶€ë¥¼ ê°€ë¥´ëŠ” í­ë°œì ì¸ ìˆœë°œë ¥ì˜ ì†Œìœ ì.',
    ],
  },
];

// â”€â”€ ìˆ˜ë¹„í˜• ë™ë¬¼ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DEFENDERS: AnimalType[] = [
  {
    emoji: 'ğŸ¢',
    animal: 'ê±°ë¶ì´',
    titles: ['ì² ë²½ ìˆ˜ë¹„ìˆ˜', 'ëŠë ¤ë„ í™•ì‹¤í•œ', 'ë§Œë¦¬ì¥ì„±'],
    descriptions: [
      'ë‹¨ë‹¨í•œ ë“±ê»ì§ˆì²˜ëŸ¼ ì–´ë–¤ ê³µê²©ë„ íŠ•ê²¨ë‚´ëŠ” ìˆ˜ë¹„ì˜ ë‹¬ì¸. ìƒëŒ€ëŠ” ì§€ì³ ë‚˜ê°€ë–¨ì–´ì§‘ë‹ˆë‹¤.',
      'ëŠë¦¬ì§€ë§Œ ì ˆëŒ€ ë¬´ë„ˆì§€ì§€ ì•ŠëŠ” ìˆ˜ë¹„! í† ë¼ê°€ ì§€ëŠ” ì´ìœ ë¥¼ ëª¸ì†Œ ë³´ì—¬ì¤ë‹ˆë‹¤.',
      'ê±°ë¶ì´ ë“± ìœ„ì—ì„œ ì„¸ìƒì„ ì˜¬ë ¤ë‹¤ë³´ë“¯, ì—¬ìœ ë¡­ê²Œ ìƒëŒ€ì˜ ê³µê²©ì„ ë°›ì•„ì¹©ë‹ˆë‹¤.',
    ],
  },
  {
    emoji: 'ğŸ¦”',
    animal: 'ê³ ìŠ´ë„ì¹˜',
    titles: ['ê°€ì‹œë°©ì„ ë©”ì´ì»¤', 'ê±´ë“œë¦¬ë©´ ì•„íŒŒìš”', 'ë°©ì–´ì˜ ì˜ˆìˆ ê°€'],
    descriptions: [
      'ê³µê²©í•˜ë©´ ê°€ì‹œì— ì°”ë¦¬ëŠ” ê³ ìŠ´ë„ì¹˜í˜• ìˆ˜ë¹„! ì‹¤ì ì´ ì ì€ ê²ƒì´ ìµœê³ ì˜ ë¬´ê¸°ì…ë‹ˆë‹¤.',
      'ê°€ì‹œë¥¼ ì„¸ìš´ ê³ ìŠ´ë„ì¹˜ì²˜ëŸ¼, ê³µì„ ë„˜ê¸°ëŠ” ìˆœê°„ ìƒëŒ€ì—ê²Œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤.',
      'ìƒëŒ€ê°€ ê³µê²©í• ìˆ˜ë¡ ë” ë‹¨ë‹¨í•´ì§€ëŠ” ì‹ ê¸°í•œ ìˆ˜ë¹„ë ¥ì˜ ì†Œìœ ì.',
    ],
  },
  {
    emoji: 'ğŸ¦',
    animal: 'ì¹´ë©œë ˆì˜¨',
    titles: ['ì ì‘ì˜ ì²œì¬', 'ë³€ì‹ ì˜ ê·€ì¬', 'ìƒí™©íŒë…ì™•'],
    descriptions: [
      'ìƒëŒ€ì— ë”°ë¼ ì „ìˆ ì„ ììœ ìì¬ë¡œ ë°”ê¾¸ëŠ” ì¹´ë©œë ˆì˜¨! ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥ì´ ìµœëŒ€ ë¬´ê¸°ì…ë‹ˆë‹¤.',
      'ì–´ë–¤ ìƒëŒ€ë„ ë§Œë‚˜ë©´ ìƒ‰ì´ ë³€í•˜ë“¯, ìì—°ìŠ¤ëŸ½ê²Œ í”Œë ˆì´ë¥¼ ë§ì¶”ëŠ” ì ì‘ë ¥ ë§Œë ™.',
      'ì¹´ë©œë ˆì˜¨ì²˜ëŸ¼ í™˜ê²½ì— ë…¹ì•„ë“œëŠ” í”Œë ˆì´, ê·¸ë˜ì„œ ìƒëŒ€ëŠ” í•­ìƒ ë‹¹í™©í•©ë‹ˆë‹¤.',
    ],
  },
];

// â”€â”€ ë°¸ëŸ°ìŠ¤í˜• ë™ë¬¼ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const BALANCED: AnimalType[] = [
  {
    emoji: 'ğŸº',
    animal: 'ëŠ‘ëŒ€',
    titles: ['íŒ€ì˜ ì•ŒíŒŒ', 'ì „ëµì  ì‚¬ëƒ¥ê¾¼', 'ì½”íŠ¸ì˜ ì§€íœ˜ê´€'],
    descriptions: [
      'íŒ€í”Œë ˆì´ì˜ êµê³¼ì„œ! ëŠ‘ëŒ€ì²˜ëŸ¼ íŒŒíŠ¸ë„ˆì™€ í•¨ê»˜í•  ë•Œ ì§„ê°€ë¥¼ ë°œíœ˜í•©ë‹ˆë‹¤.',
      'í˜¼ìì„œë„ ê°•í•˜ì§€ë§Œ ë¬´ë¦¬ì™€ í•¨ê»˜ì¼ ë•Œ ë” ë¹›ë‚˜ëŠ” ì „ëµì  í”Œë ˆì´ì–´.',
      'ì‚¬ëƒ¥ê°ì„ ëª°ì•„ê°€ë“¯ ì ìˆ˜ë¥¼ ìŒ“ì•„ê°€ëŠ” ì¹˜ë°€í•œ ì „ëµê°€ì…ë‹ˆë‹¤.',
    ],
  },
  {
    emoji: 'ğŸ¦Š',
    animal: 'ì—¬ìš°',
    titles: ['êµí™œí•œ ì „ìˆ ê°€', 'ì½”íŠ¸ì˜ ì§€ëµê°€', 'ê¾€ ë§ì€ ì—¬ìš°'],
    descriptions: [
      'ë¨¸ë¦¬ë¥¼ ì“°ëŠ” í…Œë‹ˆìŠ¤ì˜ ì •ì„! í˜ë³´ë‹¤ ê¸°ìˆ ë¡œ ìŠ¹ë¶€í•˜ëŠ” ì—¬ìš°í˜• í”Œë ˆì´ì–´.',
      'ìƒëŒ€ê°€ ì˜ˆìƒ ëª»í•œ ì½”ìŠ¤ë¡œ ê³µì„ ë³´ë‚´ëŠ” ì—¬ìš° ê°™ì€ í”Œë ˆì´ê°€ ë§¤ë ¥ì .',
      'ì—¬ìš°ì²˜ëŸ¼ ìƒëŒ€ë¥¼ êµë€ì‹œí‚¤ëŠ” ë³€ì¹™ í”Œë ˆì´ë¡œ ìŠ¹ë¦¬ë¥¼ ë‚šì•„ì±•ë‹ˆë‹¤.',
    ],
  },
  {
    emoji: 'ğŸ¬',
    animal: 'ëŒê³ ë˜',
    titles: ['ìš°ì•„í•œ í”Œë ˆì´ë©”ì´ì»¤', 'ë¬¼ ë§Œë‚œ ë¬¼ê³ ê¸°', 'ì¦ê¸°ëŠ” ì'],
    descriptions: [
      'ëŒê³ ë˜ì²˜ëŸ¼ ìš°ì•„í•˜ê²Œ ì½”íŠ¸ë¥¼ ëˆ„ë¹„ë©°, ê²½ê¸° ìì²´ë¥¼ ì¦ê¸°ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.',
      'íŒŒë„ë¥¼ íƒ€ë“¯ ë¦¬ë“¬ê° ìˆëŠ” í”Œë ˆì´! ë³´ëŠ” ì‚¬ëŒë„ ì¦ê±°ìš´ ê²½ê¸°ë¥¼ ë§Œë“­ë‹ˆë‹¤.',
      'ë¬¼ì†ì—ì„œ ììœ ìì¬ë¡œ í—¤ì—„ì¹˜ë“¯, ì½”íŠ¸ ìœ„ ëª¨ë“  ìƒí™©ì„ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•©ë‹ˆë‹¤.',
    ],
  },
];

// â”€â”€ ì„±ì¥í˜• ë™ë¬¼ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const GROWERS: AnimalType[] = [
  {
    emoji: 'ğŸ£',
    animal: 'ë³‘ì•„ë¦¬',
    titles: ['ì„±ì¥ ì¤‘ì¸ ë£¨í‚¤', 'ì ì¬ë ¥ ë§Œì ', 'ë¯¸ë˜ì˜ ì—ì´ìŠ¤'],
    descriptions: [
      'ì•„ì§ì€ ë³‘ì•„ë¦¬ì§€ë§Œ ê³§ í•˜ëŠ˜ì„ ë‚˜ëŠ” ë…ìˆ˜ë¦¬ê°€ ë  ì ì¬ë ¥ì´ ë³´ì…ë‹ˆë‹¤!',
      'ì‚ì•½ì‚ì•½~ ê²½í—˜ì„ ìŒ“ìœ¼ë©° í•œ ë¼˜ì”© ì„±ì¥ ì¤‘! ê¸°ëŒ€ë˜ëŠ” ì‹ ì¸ì…ë‹ˆë‹¤.',
      'ì•Œì„ ê¹¨ê³  ë‚˜ì˜¨ ì§€ ì–¼ë§ˆ ì•ˆ ëì§€ë§Œ, ì´ë¯¸ ë‚ ê°œì§“ì´ ì˜ˆì‚¬ë¡­ì§€ ì•ŠìŠµë‹ˆë‹¤.',
    ],
  },
  {
    emoji: 'ğŸ›',
    animal: 'ì• ë²Œë ˆ',
    titles: ['ë‚˜ë¹„ê°€ ë  ê±°ì•¼', 'ë³€íƒœ ì¤‘', 'ì§„í™”ì˜ ì‹œì‘'],
    descriptions: [
      'ì§€ê¸ˆì€ ëŠë¦° ì• ë²Œë ˆì§€ë§Œ, ê³§ í™”ë ¤í•œ ë‚˜ë¹„ë¡œ ë³€ì‹ í•  ë‚ ì´ ì˜µë‹ˆë‹¤!',
      'ëª¸ì— ì˜ì–‘ë¶„ì„ ê°€ë“ ì±„ìš°ëŠ” ì¤‘! ë²ˆë°ê¸° ì‹œì ˆì´ ì§€ë‚˜ë©´ ë‚ ì•„ì˜¤ë¥¼ ë•Œì…ë‹ˆë‹¤.',
      'ë§¤ ê²½ê¸°ê°€ ì„±ì¥ì˜ ì–‘ë¶„! ê²½í—˜ì¹˜ë¥¼ ìŒ“ìœ¼ë©° ë ˆë²¨ì—… ì¤‘ì¸ ì„ ìˆ˜.',
    ],
  },
];

// â”€â”€ ì—°ìŠ¹í˜• ë™ë¬¼ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const STREAKERS: AnimalType[] = [
  {
    emoji: 'ğŸ‰',
    animal: 'ìš©',
    titles: ['ë¬´íŒ¨ì˜ ì „ì„¤', 'ë¶ˆì„ ë¿œëŠ” ì', 'ì½”íŠ¸ì˜ ì‹ ìˆ˜'],
    descriptions: [
      'ìš©ì´ í•˜ëŠ˜ì„ ë‚˜ë“¯ ì—°ìŠ¹ ê°€ë„ë¥¼ ë‹¬ë¦¬ê³  ìˆìŠµë‹ˆë‹¤. ê°íˆ ëˆ„ê°€ ë§‰ì„ ìˆ˜ ìˆì„ê¹Œìš”?',
      'ë¶ˆê¸¸ì²˜ëŸ¼ íƒ€ì˜¤ë¥´ëŠ” ì—°ìŠ¹! ìƒëŒ€ëŠ” ìš©ì˜ ê¸°ì„¸ì— ëˆŒë ¤ ì‹œì‘ë¶€í„° ìœ„ì¶•ë©ë‹ˆë‹¤.',
      'ì „ì„¤ì˜ ìš©ì²˜ëŸ¼, í•œë²ˆ ë‚ ì•„ì˜¤ë¥´ë©´ ì‰½ê²Œ ë‚´ë ¤ì˜¤ì§€ ì•ŠëŠ” ì„ ìˆ˜ì…ë‹ˆë‹¤.',
    ],
  },
  {
    emoji: 'ğŸ¦ˆ',
    animal: 'ìƒì–´',
    titles: ['í”¼ ëƒ„ìƒˆë¥¼ ë§¡ì€ ìƒì–´', 'ì½”íŠ¸ì˜ í¬ì‹ì', 'ë¬´ìë¹„í•œ ìŠ¹ë¶€ì‚¬'],
    descriptions: [
      'ìƒì–´ê°€ í”¼ ëƒ„ìƒˆë¥¼ ë§¡ìœ¼ë©´ ë©ˆì¶”ì§€ ì•Šë“¯, í•œë²ˆ ì´ê¸°ê¸° ì‹œì‘í•˜ë©´ ì—°ìŠ¹ ëª¨ë“œ ëŒì…!',
      'ì½”íŠ¸ ìœ„ì˜ ìƒì–´! ìƒëŒ€ì˜ ì•½ì ì„ ê°ì§€í•˜ë©´ ê°€ì°¨ ì—†ì´ ë¬¼ì–´ëœ¯ìŠµë‹ˆë‹¤.',
      'ë°”ë‹¤ì˜ ìµœìƒìœ„ í¬ì‹ìì²˜ëŸ¼, ì½”íŠ¸ì—ì„œë„ ë¨¹ì´ì‚¬ìŠ¬ì˜ ê¼­ëŒ€ê¸°ì— ìˆìŠµë‹ˆë‹¤.',
    ],
  },
];

// â”€â”€ ì—­ê²½í˜• ë™ë¬¼ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const UNDERDOGS: AnimalType[] = [
  {
    emoji: 'ğŸœ',
    animal: 'ê°œë¯¸',
    titles: ['ë¶ˆêµ´ì˜ íˆ¬ì‚¬', 'ëˆê¸°ì˜ ì•„ì´ì½˜', 'í¬ê¸°ë€ ì—†ë‹¤'],
    descriptions: [
      'ìê¸° ëª¸ì˜ 50ë°°ë¥¼ ë“œëŠ” ê°œë¯¸ì²˜ëŸ¼, ì ˆëŒ€ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ëˆê¸°ê°€ ë¬´ê¸°ì…ë‹ˆë‹¤.',
      'ê°œë¯¸ëŠ” ì“°ëŸ¬ì ¸ë„ ë‹¤ì‹œ ì¼ì–´ë‚©ë‹ˆë‹¤. ì—°íŒ¨ ì¤‘ì´ë¼ê³ ìš”? ë°˜ë“±ì€ ì‹œê°„ë¬¸ì œ!',
      'í•œ ì•Œ í•œ ì•Œ ëª¨ìœ¼ëŠ” ê°œë¯¸ì²˜ëŸ¼, ê¾¸ì¤€í•œ ë…¸ë ¥ì´ ê³§ í° ì„±ê³¼ë¡œ ëŒì•„ì˜¬ ê±°ì˜ˆìš”.',
    ],
  },
  {
    emoji: 'ğŸ¦©',
    animal: 'í”Œë¼ë°ê³ ',
    titles: ['í•œ ë°œë¡œ ì„œëŠ” ì', 'ìš°ì•„í•œ ì—­ì „ì˜ ëª…ìˆ˜', 'í•‘í¬ë¹› ë°˜ì „'],
    descriptions: [
      'í•œ ë°œë¡œ ì„œë„ í”ë“¤ë¦¬ì§€ ì•ŠëŠ” í”Œë¼ë°ê³ ! ë¶ˆë¦¬í•œ ìƒí™©ì—ì„œ ë” ë¹›ë‚˜ëŠ” íƒ€ì….',
      'ë¶„í™ë¹› ë‚ ê°¯ì§“ìœ¼ë¡œ í™”ë ¤í•œ ì—­ì „ê·¹ì„ í¼ì¹˜ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ë§¤ë ¥ í¬ì¸íŠ¸!',
      'í”Œë¼ë°ê³ ê°€ í•œ ë°œë¡œ ê· í˜•ì„ ì¡ë“¯, ë¶ˆë¦¬í•œ ìƒí™©ì—ì„œë„ ì¤‘ì‹¬ì„ ìƒì§€ ì•ŠìŠµë‹ˆë‹¤.',
    ],
  },
];

// â”€â”€ ê¾¸ì¤€í˜• ë™ë¬¼ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const CONSISTENTS: AnimalType[] = [
  {
    emoji: 'ğŸ•',
    animal: 'ê°•ì•„ì§€',
    titles: ['ì¶©ì‹¤í•œ ë™ë°˜ì', 'ëª¨ë‘ì˜ ì¹œêµ¬', 'ì½”íŠ¸ì˜ ê³¨ë“  ë¦¬íŠ¸ë¦¬ë²„'],
    descriptions: [
      'ì–¸ì œë‚˜ ë°ì€ ì—ë„ˆì§€! ê°•ì•„ì§€ì²˜ëŸ¼ ëª¨ë“  íŒŒíŠ¸ë„ˆì™€ í˜¸í¡ì´ ì¢‹ì€ íŒ€í”Œë ˆì´ì–´.',
      'ê¼¬ë¦¬ í”ë“¤ë©° ì½”íŠ¸ì— ë‚˜íƒ€ë‚˜ë©´ íŒ€ ë¶„ìœ„ê¸°ê°€ ì‚´ì•„ë‚©ë‹ˆë‹¤. ë‹¹ì‹ ì€ íŒ€ì˜ í™œë ¥ì†Œ!',
      'ì¶©ì„±ìŠ¤ëŸ½ê³  ê¾¸ì¤€í•œ í”Œë ˆì´! íŒŒíŠ¸ë„ˆê°€ ê°€ì¥ ë¯¿ëŠ” ë™ë£Œì…ë‹ˆë‹¤.',
    ],
  },
  {
    emoji: 'ğŸ',
    animal: 'ê¿€ë²Œ',
    titles: ['ë¶€ì§€ëŸ°í•œ ì¼ë²Œ', 'ê¿€ê°™ì€ í”Œë ˆì´', 'ì½”íŠ¸ì˜ ì›Œì»¤í™€ë¦­'],
    descriptions: [
      'ê¿€ë²Œì²˜ëŸ¼ ë¶€ì§€ëŸ°íˆ ì½”íŠ¸ë¥¼ ëˆ„ë¹„ë©° í•œ ì  í•œ ì  ê¿€ì²˜ëŸ¼ ë‹¬ì½¤í•œ ë“ì ì„ í•©ë‹ˆë‹¤.',
      'ì‰¬ì§€ ì•Šê³  ë‚ ì•„ë‹¤ë‹ˆëŠ” ê¿€ë²Œ! ë†’ì€ ì¶œì„ë¥ ê³¼ ê¾¸ì¤€í•¨ì´ ìµœëŒ€ ì¥ì .',
      'ë²Œì²˜ëŸ¼ ì—´ì‹¬íˆ, ê¿€ì²˜ëŸ¼ ë‹¬ì½¤í•œ ìŠ¹ë¦¬ë¥¼ ê±°ë‘ëŠ” ì„±ì‹¤í•œ í”Œë ˆì´ì–´.',
    ],
  },
  {
    emoji: 'ğŸ¦‰',
    animal: 'ì˜¬ë¹¼ë¯¸',
    titles: ['í˜„ëª…í•œ ê´€ì°°ì', 'ì½”íŠ¸ì˜ ì§€í˜œì', 'ì¹¨ì°©í•œ ì „ëµê°€'],
    descriptions: [
      'ì˜¬ë¹¼ë¯¸ì˜ ëˆˆìœ¼ë¡œ ì½”íŠ¸ ì „ì²´ë¥¼ ì½ëŠ” ì§€ëµê°€. ê²½í—˜ì—ì„œ ì˜¤ëŠ” ê¹Šì´ê°€ ë‹¤ë¦…ë‹ˆë‹¤.',
      'ì¡°ìš©íˆ ê´€ì°°í•˜ë‹¤ ì •í™•í•œ íƒ€ì´ë°ì— ë‚ ì¹´ë¡œìš´ í•œ ìˆ˜ë¥¼ ë†“ëŠ” í˜„ìí˜• ì„ ìˆ˜.',
      'ë§ì€ ê²½ê¸°ë¥¼ í†µí•´ ìŒ“ì€ ì§€í˜œë¡œ, í›„ë°°ë“¤ì˜ ê·€ê°ì´ ë˜ëŠ” ë…¸ë ¨í•œ í”Œë ˆì´ì–´.',
    ],
  },
];

// â”€â”€ MVPí˜• ë™ë¬¼ë“¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const MVPS: AnimalType[] = [
  {
    emoji: 'ğŸ¦š',
    animal: 'ê³µì‘ìƒˆ',
    titles: ['í™”ë ¤í•œ MVP', 'ì½”íŠ¸ì˜ ìŠ¤íƒ€', 'ì£¼ì¸ê³µ ì²´ì§ˆ'],
    descriptions: [
      'ê³µì‘ìƒˆê°€ ê¹ƒí„¸ì„ í´ë“¯, ì½”íŠ¸ ìœ„ì—ì„œ í™”ë ¤í•œ í¼í¬ë¨¼ìŠ¤ë¡œ ì‹œì„ ì„ ì‚¬ë¡œì¡ìŠµë‹ˆë‹¤.',
      'MVP íŠ¸ë¡œí”¼ê°€ ë‹¹ì‹ ì„ ë”°ë¼ë‹¤ë‹™ë‹ˆë‹¤. ê³µì‘ìƒˆì²˜ëŸ¼ ë¹›ë‚˜ëŠ” ê²ƒì´ ìš´ëª…!',
      'ê²½ê¸°ì¥ì˜ ì£¼ì¸ê³µì€ í•­ìƒ ë‹¹ì‹ ! í™”ë ¤í•œ í”Œë ˆì´ë¡œ ê°¤ëŸ¬ë¦¬ë¥¼ ë§¤ë£Œì‹œí‚µë‹ˆë‹¤.',
    ],
  },
  {
    emoji: 'ğŸ',
    animal: 'ë§',
    titles: ['ì½”íŠ¸ì˜ ê²½ì£¼ë§ˆ', 'ë‹¬ë¦¬ëŠ” ì—ì´ìŠ¤', 'ì§ˆì£¼ë³¸ëŠ¥'],
    descriptions: [
      'ê²½ì£¼ë§ˆì²˜ëŸ¼ ì „ë ¥ ì§ˆì£¼! ê²°ìŠ¹ì„ (ë§¤ì¹˜ í¬ì¸íŠ¸)ì„ í–¥í•œ ì§‘ì¤‘ë ¥ì´ ë‚¨ë‹¤ë¦…ë‹ˆë‹¤.',
      'ë§ì˜ ìš°ì•„í•¨ê³¼ íŒŒì›Œë¥¼ ê²¸ë¹„í•œ ì„ ìˆ˜. ì½”íŠ¸ ìœ„ë¥¼ ì¢…íš¡ë¬´ì§„ ë‹¬ë¦½ë‹ˆë‹¤.',
      'ì„œëŸ¬ë¸Œë ˆë“œì˜ í˜ˆí†µ! ì¤‘ìš”í•œ ìˆœê°„ì— í•œ í…œí¬ ë¹ ë¥¸ ìŠ¤í¼íŠ¸ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.',
    ],
  },
];

/**
 * ì„ ìˆ˜ í†µê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ë¬¼ í”„ë¡œí•„ ìƒì„±
 */
export function generateAnimalProfile(input: AnimalProfileInput): AnimalProfile {
  const {
    winRate, games, wins, losses, draws,
    avgScoreFor, avgScoreAgainst, scoreDiff,
    longestWinStreak, longestLossStreak,
    recentForm,
    bestPartnerName, bestPartnerWinRate,
    nemesisName, nemesisWinRate,
    attendanceDays, mvpCount,
  } = input;

  // ìµœê·¼ ì—°ìŠ¹/ì—°íŒ¨ ê³„ì‚°
  let currentStreak = 0;
  let currentStreakType: 'W' | 'L' | 'D' = 'D';
  if (recentForm.length > 0) {
    currentStreakType = recentForm[recentForm.length - 1];
    for (let i = recentForm.length - 1; i >= 0; i--) {
      if (recentForm[i] === currentStreakType) currentStreak++;
      else break;
    }
  }

  const recentWins = recentForm.filter(r => r === 'W').length;
  const recentTotal = recentForm.length;
  const recentWinRate = recentTotal > 0 ? recentWins / recentTotal : 0;

  // ë™ë¬¼ ì¹´í…Œê³ ë¦¬ ê²°ì • (ìš°ì„ ìˆœìœ„)
  let pool: AnimalType[];

  // 1. ê²½ê¸° ìˆ˜ê°€ ì ìœ¼ë©´ â†’ ì„±ì¥í˜•
  if (games < 5) {
    pool = GROWERS;
  }
  // 2. MVP ë‹¤ìˆ˜ â†’ MVPí˜•
  else if (mvpCount && mvpCount >= 3) {
    pool = MVPS;
  }
  // 3. í˜„ì¬ 3ì—°ìŠ¹ ì´ìƒ â†’ ì—°ìŠ¹í˜•
  else if (currentStreakType === 'W' && currentStreak >= 3) {
    pool = STREAKERS;
  }
  // 4. ë†’ì€ ìŠ¹ë¥ (60%+) + ë†’ì€ ë“ì  â†’ ê³µê²©í˜•
  else if (winRate >= 0.6 && avgScoreFor >= 4.5) {
    pool = ATTACKERS;
  }
  // 5. ë†’ì€ ìŠ¹ë¥ (60%+) + ë‚®ì€ ì‹¤ì  â†’ ìˆ˜ë¹„í˜•
  else if (winRate >= 0.6 && avgScoreAgainst <= 3.5) {
    pool = DEFENDERS;
  }
  // 6. ë†’ì€ ìŠ¹ë¥ (55%+) â†’ ë°¸ëŸ°ìŠ¤í˜•
  else if (winRate >= 0.55) {
    pool = BALANCED;
  }
  // 7. ë†’ì€ ì¶œì„(10ì¼+) or ë§ì€ ê²½ê¸°(30+) â†’ ê¾¸ì¤€í˜•
  else if ((attendanceDays && attendanceDays >= 10) || games >= 30) {
    pool = CONSISTENTS;
  }
  // 8. ë‚®ì€ ìŠ¹ë¥ ì´ì§€ë§Œ ìµœê·¼ ìƒìŠ¹ì„¸ â†’ ì—­ê²½í˜•
  else if (winRate < 0.45 && recentWinRate > winRate + 0.1) {
    pool = UNDERDOGS;
  }
  // 9. ì—°íŒ¨ ì¤‘ or ë‚®ì€ ìŠ¹ë¥  â†’ ì„±ì¥í˜• or ì—­ê²½í˜•
  else if (winRate < 0.4) {
    pool = currentStreakType === 'L' && currentStreak >= 3 ? UNDERDOGS : GROWERS;
  }
  // 10. ê¸°ë³¸ â†’ ë°¸ëŸ°ìŠ¤í˜•
  else {
    pool = BALANCED;
  }

  // í’€ì—ì„œ ëœë¤ ë™ë¬¼ ì„ íƒ (ì´ë¦„ í•´ì‹œ ê¸°ë°˜ìœ¼ë¡œ ì¼ê´€ì„± ìœ ì§€)
  const hash = simpleHash(`${games}-${wins}-${losses}`);
  const animal = pool[hash % pool.length];

  // íƒ€ì´í‹€ê³¼ ì„¤ëª… ì„ íƒ (ë‹¤ë¥¸ í•´ì‹œë¡œ)
  const titleIdx = simpleHash(`t-${wins}-${draws}`) % animal.titles.length;
  const descIdx = simpleHash(`d-${losses}-${games}`) % animal.descriptions.length;

  // í†µê³„ ê¸°ë°˜ ì¶”ê°€ ë¬¸ì¥ ìƒì„± (ì—¬ëŸ¬ ì¤„)
  const extras: string[] = [];

  // ì „ì  ìš”ì•½
  extras.push(`${games}ê²½ê¸° ${wins}ìŠ¹ ${draws}ë¬´ ${losses}íŒ¨, ìŠ¹ë¥  ${(winRate * 100).toFixed(0)}%.`);

  // ë“ì /ì‹¤ì  ë¶„ì„
  if (avgScoreFor >= 5) {
    extras.push(`ê²½ê¸°ë‹¹ í‰ê·  ${avgScoreFor.toFixed(1)}ì ì˜ í™”ë ¥ì€ ì½”íŠ¸ ìœ„ ëŒ€í¬ê¸‰ì…ë‹ˆë‹¤.`);
  } else if (avgScoreAgainst <= 3) {
    extras.push(`í‰ê·  ì‹¤ì  ${avgScoreAgainst.toFixed(1)}ì , ì² ë²½ ìˆ˜ë¹„ê°€ ë‹ë³´ì…ë‹ˆë‹¤.`);
  } else if (scoreDiff > 0) {
    extras.push(`í‰ê·  ë“ì  ${avgScoreFor.toFixed(1)}ì  vs ì‹¤ì  ${avgScoreAgainst.toFixed(1)}ì ìœ¼ë¡œ ê³µê²©ì´ ì•ì„­ë‹ˆë‹¤.`);
  } else if (scoreDiff < -0.5) {
    extras.push(`í‰ê·  ì‹¤ì (${avgScoreAgainst.toFixed(1)})ì´ ë“ì (${avgScoreFor.toFixed(1)})ë³´ë‹¤ ë†’ì•„ ìˆ˜ë¹„ ë³´ê°•ì´ ê¸°ëŒ€ë©ë‹ˆë‹¤.`);
  }

  // ì—°ìŠ¹/ì—°íŒ¨ ê¸°ë¡
  if (longestWinStreak >= 5) {
    extras.push(`ì—­ëŒ€ ìµœë‹¤ ${longestWinStreak}ì—°ìŠ¹ì˜ ì „ì„¤ì  ê¸°ë¡ ë³´ìœ !`);
  } else if (longestWinStreak >= 3) {
    extras.push(`ìµœë‹¤ ${longestWinStreak}ì—°ìŠ¹ ê¸°ë¡ì„ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤.`);
  }

  // ìµœê·¼ í¼
  if (recentForm.length >= 3) {
    const rw = recentForm.filter(r => r === 'W').length;
    const rl = recentForm.filter(r => r === 'L').length;
    if (currentStreakType === 'W' && currentStreak >= 3) {
      extras.push(`í˜„ì¬ ${currentStreak}ì—°ìŠ¹ ì¤‘! ë¶ˆê½ƒ ê°™ì€ ìƒìŠ¹ì„¸ì…ë‹ˆë‹¤.`);
    } else if (currentStreakType === 'L' && currentStreak >= 3) {
      extras.push(`ìµœê·¼ ${currentStreak}ì—°íŒ¨ ì¤‘ì´ì§€ë§Œ, ë°˜ë“±ì˜ ì €ë ¥ì´ ìˆìŠµë‹ˆë‹¤.`);
    } else if (rw >= Math.ceil(recentForm.length * 0.6)) {
      extras.push(`ìµœê·¼ ${recentForm.length}ê²½ê¸° ì¤‘ ${rw}ìŠ¹ìœ¼ë¡œ ì¢‹ì€ íë¦„ì„ íƒ€ê³  ìˆìŠµë‹ˆë‹¤.`);
    } else if (rl >= Math.ceil(recentForm.length * 0.6)) {
      extras.push(`ìµœê·¼ ${recentForm.length}ê²½ê¸° ì¤‘ ${rl}íŒ¨, ë¶„ë°œì´ í•„ìš”í•œ ì‹œì ì…ë‹ˆë‹¤.`);
    }
  }

  // íŒŒíŠ¸ë„ˆ/ì²œì /MVP/ì¶œì„
  if (bestPartnerName && bestPartnerWinRate && bestPartnerWinRate >= 0.7) {
    extras.push(`ë² ìŠ¤íŠ¸ íŒŒíŠ¸ë„ˆ ${bestPartnerName}ê³¼(ì™€) í•¨ê»˜í•˜ë©´ ìŠ¹ë¥  ${(bestPartnerWinRate * 100).toFixed(0)}%ì˜ í™˜ìƒ í˜¸í¡!`);
  } else if (bestPartnerName && bestPartnerWinRate) {
    extras.push(`ë² ìŠ¤íŠ¸ íŒŒíŠ¸ë„ˆ ${bestPartnerName}ê³¼(ì™€)ì˜ í•©ì‘ ìŠ¹ë¥  ${(bestPartnerWinRate * 100).toFixed(0)}%.`);
  }
  if (nemesisName && nemesisWinRate !== undefined && nemesisWinRate <= 0.3) {
    extras.push(`ì²œì  ${nemesisName} ì•ì—ì„œëŠ” ìŠ¹ë¥  ${(nemesisWinRate * 100).toFixed(0)}%ë¡œ ê³ ì „ ì¤‘!`);
  } else if (nemesisName && nemesisWinRate !== undefined) {
    extras.push(`ë¼ì´ë²Œ ${nemesisName}ê³¼(ì™€)ì˜ ìŠ¹ë¥ ì€ ${(nemesisWinRate * 100).toFixed(0)}%.`);
  }
  if (mvpCount && mvpCount >= 2) {
    extras.push(`MVP ${mvpCount}íšŒ ìˆ˜ìƒ, ê²½ê¸°ì¥ì˜ ì£¼ì¸ê³µì…ë‹ˆë‹¤.`);
  }
  if (attendanceDays && attendanceDays >= 10) {
    extras.push(`${attendanceDays}ì¼ ì¶œì„í•œ ì„±ì‹¤í•¨ì€ íŒ€ì˜ ê¸°ë‘¥!`);
  }
  if (draws >= 3 && draws > wins * 0.4) {
    extras.push(`ë¬´ìŠ¹ë¶€ ${draws}íšŒ, íŒ½íŒ½í•œ ì ‘ì „ì„ ì¦ê¸°ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.`);
  }

  return {
    emoji: animal.emoji,
    animal: animal.animal,
    title: animal.titles[titleIdx],
    description: animal.descriptions[descIdx] + ' ' + extras.join(' '),
  };
}

// ê°„ë‹¨í•œ í•´ì‹œ í•¨ìˆ˜ (ì¼ê´€ëœ ê²°ê³¼ë¥¼ ìœ„í•´)
function simpleHash(str: string): number {
  let hash = 0;
  for (let i = 0; i < str.length; i++) {
    const char = str.charCodeAt(i);
    hash = ((hash << 5) - hash) + char;
    hash |= 0;
  }
  return Math.abs(hash);
}
